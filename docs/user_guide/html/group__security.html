<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite User Guide: Security - On-Chip Security Functionality</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite User Guide<span id="projectnumber">&#160;SDK 3.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Security - On-Chip Security Functionality<div class="ingroups"><a class="el" href="group__hal.html">Hardware Abstraction Layer (HAL)</a> &raquo; <a class="el" href="group__apollo3__hal.html">apollo3</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structam__hal__security__info__t.html">am_hal_security_info_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionam__hal__security__128bkey__t.html">am_hal_security_128bkey_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga9e22e069bd2928dc35e2948a111028b7" id="r_ga9e22e069bd2928dc35e2948a111028b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9e22e069bd2928dc35e2948a111028b7">ENABLE_EXTMEM_CRC</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga9e22e069bd2928dc35e2948a111028b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97f93020319d37225c7d30561b80f41c" id="r_ga97f93020319d37225c7d30561b80f41c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97f93020319d37225c7d30561b80f41c">MAX_CRC_WAIT</a>&#160;&#160;&#160;100000</td></tr>
<tr class="memdesc:ga97f93020319d37225c7d30561b80f41c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum iterations for hardware CRC to finish.  <br /></td></tr>
<tr class="separator:ga97f93020319d37225c7d30561b80f41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1094ed91e813330fff982c01a67f216e" id="r_ga1094ed91e813330fff982c01a67f216e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1094ed91e813330fff982c01a67f216e">AM_HAL_SECURITY_LOCKSTAT_CUSTOMER</a>&#160;&#160;&#160;0x1</td></tr>
<tr class="separator:ga1094ed91e813330fff982c01a67f216e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05716ea6fb6be1c28bd9a6111b970ec8" id="r_ga05716ea6fb6be1c28bd9a6111b970ec8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga05716ea6fb6be1c28bd9a6111b970ec8">AM_HAL_SECURITY_LOCKSTAT_RECOVERY</a>&#160;&#160;&#160;0x40000000</td></tr>
<tr class="separator:ga05716ea6fb6be1c28bd9a6111b970ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga603a31f9ce5443cd7b13ae6f0684ccee" id="r_ga603a31f9ce5443cd7b13ae6f0684ccee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga603a31f9ce5443cd7b13ae6f0684ccee">CRC_XFERBUF_SZ</a>&#160;&#160;&#160;(512)</td></tr>
<tr class="separator:ga603a31f9ce5443cd7b13ae6f0684ccee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2efc298cddb19fb90ad6a0cde31d1649" id="r_ga2efc298cddb19fb90ad6a0cde31d1649"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2efc298cddb19fb90ad6a0cde31d1649">AM_HAL_SBL_ADDRESS</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="memdesc:ga2efc298cddb19fb90ad6a0cde31d1649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Location of SBL install address for this device.  <br /></td></tr>
<tr class="separator:ga2efc298cddb19fb90ad6a0cde31d1649"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga6fef9765667e98f136fb7c2abc3411a6" id="r_ga6fef9765667e98f136fb7c2abc3411a6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6fef9765667e98f136fb7c2abc3411a6">am_hal_security_locktype_t</a> { <br />
&#160;&#160;<a class="el" href="#gga6fef9765667e98f136fb7c2abc3411a6a2cba25d05a9efb7988687a4eac57bda3">AM_HAL_SECURITY_LOCKTYPE_CUSTOMER</a> = 0x1
, <br />
&#160;&#160;<a class="el" href="#gga6fef9765667e98f136fb7c2abc3411a6a71d47b75aa359b9265ef4e64d8631f22">AM_HAL_SECURITY_LOCKTYPE_RECOVERY</a> = 0x9D
<br />
 }</td></tr>
<tr class="memdesc:ga6fef9765667e98f136fb7c2abc3411a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">LOCK Definitions.  <a href="#ga6fef9765667e98f136fb7c2abc3411a6">More...</a><br /></td></tr>
<tr class="separator:ga6fef9765667e98f136fb7c2abc3411a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga141f57e91438d412d6b1e7332a46bda9" id="r_ga141f57e91438d412d6b1e7332a46bda9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga141f57e91438d412d6b1e7332a46bda9">am_hal_security_get_info</a> (<a class="el" href="structam__hal__security__info__t.html">am_hal_security_info_t</a> *pSecInfo)</td></tr>
<tr class="memdesc:ga141f57e91438d412d6b1e7332a46bda9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Device Security Info.  <br /></td></tr>
<tr class="separator:ga141f57e91438d412d6b1e7332a46bda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f0b533775b83f1d6d4ebffd65460b80" id="r_ga1f0b533775b83f1d6d4ebffd65460b80"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1f0b533775b83f1d6d4ebffd65460b80">am_hal_security_set_key</a> (<a class="el" href="#ga6fef9765667e98f136fb7c2abc3411a6">am_hal_security_locktype_t</a> lockType, <a class="el" href="unionam__hal__security__128bkey__t.html">am_hal_security_128bkey_t</a> *pKey)</td></tr>
<tr class="memdesc:ga1f0b533775b83f1d6d4ebffd65460b80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the key for specified lock.  <br /></td></tr>
<tr class="separator:ga1f0b533775b83f1d6d4ebffd65460b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c016a6fbd15a81503debffb88f6725d" id="r_ga2c016a6fbd15a81503debffb88f6725d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2c016a6fbd15a81503debffb88f6725d">am_hal_security_get_lock_status</a> (<a class="el" href="#ga6fef9765667e98f136fb7c2abc3411a6">am_hal_security_locktype_t</a> lockType, bool *pbUnlockStatus)</td></tr>
<tr class="memdesc:ga2c016a6fbd15a81503debffb88f6725d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current status of the specified lock.  <br /></td></tr>
<tr class="separator:ga2c016a6fbd15a81503debffb88f6725d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6f5587a48292461a07368a720a5f007" id="r_gaf6f5587a48292461a07368a720a5f007"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6f5587a48292461a07368a720a5f007">am_hal_crc32_init</a> (void)</td></tr>
<tr class="memdesc:gaf6f5587a48292461a07368a720a5f007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize CRC32 engine.  <br /></td></tr>
<tr class="separator:gaf6f5587a48292461a07368a720a5f007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37785e75800bd6e8653265c0b5a0a23c" id="r_ga37785e75800bd6e8653265c0b5a0a23c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga37785e75800bd6e8653265c0b5a0a23c">am_hal_crc32_accum</a> (uint32_t ui32StartAddr, uint32_t ui32SizeBytes, uint32_t *pui32Crc)</td></tr>
<tr class="memdesc:ga37785e75800bd6e8653265c0b5a0a23c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accumulate CRC32 for a specified payload.  <br /></td></tr>
<tr class="separator:ga37785e75800bd6e8653265c0b5a0a23c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf7a8de6ebac4f61c519dec790f36582" id="r_gaaf7a8de6ebac4f61c519dec790f36582"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf7a8de6ebac4f61c519dec790f36582">am_hal_crc32</a> (uint32_t ui32StartAddr, uint32_t ui32SizeBytes, uint32_t *pui32Crc)</td></tr>
<tr class="memdesc:gaaf7a8de6ebac4f61c519dec790f36582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute CRC32 for a specified payload.  <br /></td></tr>
<tr class="separator:gaaf7a8de6ebac4f61c519dec790f36582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd2acf6719e63f1eb7cc726819b2bfab" id="r_gabd2acf6719e63f1eb7cc726819b2bfab"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabd2acf6719e63f1eb7cc726819b2bfab">am_hal_bootloader_exit</a> (uint32_t *pImage)</td></tr>
<tr class="memdesc:gabd2acf6719e63f1eb7cc726819b2bfab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to Perform exit operations for a secondary bootloader.  <br /></td></tr>
<tr class="separator:gabd2acf6719e63f1eb7cc726819b2bfab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga11d78b3facd2b9b1238b313d9943b5c0" id="r_ga11d78b3facd2b9b1238b313d9943b5c0"><td class="memItemLeft" align="right" valign="top">const volatile uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga11d78b3facd2b9b1238b313d9943b5c0">g_pFlash0</a> = (uint32_t*)(<a class="el" href="#ga2efc298cddb19fb90ad6a0cde31d1649">AM_HAL_SBL_ADDRESS</a> + 0)</td></tr>
<tr class="separator:ga11d78b3facd2b9b1238b313d9943b5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad501b2fcdc258c4f21798126697cef2d" id="r_gad501b2fcdc258c4f21798126697cef2d"><td class="memItemLeft" align="right" valign="top">const volatile uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad501b2fcdc258c4f21798126697cef2d">g_pFlash4</a> = (uint32_t*)(<a class="el" href="#ga2efc298cddb19fb90ad6a0cde31d1649">AM_HAL_SBL_ADDRESS</a> + 4)</td></tr>
<tr class="separator:gad501b2fcdc258c4f21798126697cef2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga2efc298cddb19fb90ad6a0cde31d1649" name="ga2efc298cddb19fb90ad6a0cde31d1649"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2efc298cddb19fb90ad6a0cde31d1649">&#9670;&#160;</a></span>AM_HAL_SBL_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SBL_ADDRESS&#160;&#160;&#160;0x00000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Location of SBL install address for this device. </p>
<dl class="section note"><dt>Note</dt><dd>Important Note: Some caution should be observed when using AM_HAL_SBL_ADDRESS as an address. GCC considers use of this address to be a NULL pointer. When compiled with high optimization (-O3) and used to read the location with, for example, code such as *((volatile uint32_t *)(AM_HAL_SBL_ADDRESS)), GCC will insert an instruction it calls "UDF" (undefined), op-code 0xDEFF, which will cause a fault on execution to trap the "invalid" null-ptr usage. This does not appear to be an issue with IAR and Keil ARM5. It is likely an issue with Keil ARM6. </dd></dl>

</div>
</div>
<a id="ga1094ed91e813330fff982c01a67f216e" name="ga1094ed91e813330fff982c01a67f216e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1094ed91e813330fff982c01a67f216e">&#9670;&#160;</a></span>AM_HAL_SECURITY_LOCKSTAT_CUSTOMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURITY_LOCKSTAT_CUSTOMER&#160;&#160;&#160;0x1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga05716ea6fb6be1c28bd9a6111b970ec8" name="ga05716ea6fb6be1c28bd9a6111b970ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05716ea6fb6be1c28bd9a6111b970ec8">&#9670;&#160;</a></span>AM_HAL_SECURITY_LOCKSTAT_RECOVERY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_HAL_SECURITY_LOCKSTAT_RECOVERY&#160;&#160;&#160;0x40000000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga603a31f9ce5443cd7b13ae6f0684ccee" name="ga603a31f9ce5443cd7b13ae6f0684ccee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga603a31f9ce5443cd7b13ae6f0684ccee">&#9670;&#160;</a></span>CRC_XFERBUF_SZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRC_XFERBUF_SZ&#160;&#160;&#160;(512)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set up a small global buffer that can be used <a class="el" href="#gaaf7a8de6ebac4f61c519dec790f36582" title="Compute CRC32 for a specified payload.">am_hal_crc32()</a> when computing CRCs on external memory. </p>

</div>
</div>
<a id="ga9e22e069bd2928dc35e2948a111028b7" name="ga9e22e069bd2928dc35e2948a111028b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e22e069bd2928dc35e2948a111028b7">&#9670;&#160;</a></span>ENABLE_EXTMEM_CRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_EXTMEM_CRC&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ENABLE_EXTMEM_CRC By default, the CRC engine can only operate on data located in internal memory (i.e. flash or SRAM). This define enables am_hal_crc() to support external memories, but requires a small amount of global SRAM allocated for that purpose. If it is not desired to support this feature, set to 0. </p>

</div>
</div>
<a id="ga97f93020319d37225c7d30561b80f41c" name="ga97f93020319d37225c7d30561b80f41c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97f93020319d37225c7d30561b80f41c">&#9670;&#160;</a></span>MAX_CRC_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_CRC_WAIT&#160;&#160;&#160;100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum iterations for hardware CRC to finish. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga6fef9765667e98f136fb7c2abc3411a6" name="ga6fef9765667e98f136fb7c2abc3411a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6fef9765667e98f136fb7c2abc3411a6">&#9670;&#160;</a></span>am_hal_security_locktype_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga6fef9765667e98f136fb7c2abc3411a6">am_hal_security_locktype_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LOCK Definitions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6fef9765667e98f136fb7c2abc3411a6a2cba25d05a9efb7988687a4eac57bda3" name="gga6fef9765667e98f136fb7c2abc3411a6a2cba25d05a9efb7988687a4eac57bda3"></a>AM_HAL_SECURITY_LOCKTYPE_CUSTOMER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6fef9765667e98f136fb7c2abc3411a6a71d47b75aa359b9265ef4e64d8631f22" name="gga6fef9765667e98f136fb7c2abc3411a6a71d47b75aa359b9265ef4e64d8631f22"></a>AM_HAL_SECURITY_LOCKTYPE_RECOVERY&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabd2acf6719e63f1eb7cc726819b2bfab" name="gabd2acf6719e63f1eb7cc726819b2bfab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd2acf6719e63f1eb7cc726819b2bfab">&#9670;&#160;</a></span>am_hal_bootloader_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_bootloader_exit </td>
          <td>(</td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pImage</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to Perform exit operations for a secondary bootloader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pImage</td><td>- The address of the image to give control to</td></tr>
  </table>
  </dd>
</dl>
<p>This function does the necessary security operations while exiting from a a secondary bootloader program. If still open, it locks the info0 key region, as well as further updates to the flash protection register. It also checks if it needs to halt to honor a debugger request. If an image address is specified, control is transferred to the same on exit.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success, if no image address specified If an image address is provided, a successful execution results in transfer to the image - and this function does not return. </dd></dl>

</div>
</div>
<a id="gaaf7a8de6ebac4f61c519dec790f36582" name="gaaf7a8de6ebac4f61c519dec790f36582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf7a8de6ebac4f61c519dec790f36582">&#9670;&#160;</a></span>am_hal_crc32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_crc32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ui32StartAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ui32SizeBytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pui32Crc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute CRC32 for a specified payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32StartAddr</td><td>- The start address of the payload </td></tr>
    <tr><td class="paramname">ui32SizeBytes</td><td>- The length of payload in bytes </td></tr>
    <tr><td class="paramname">pui32Crc</td><td>- Pointer to return computed CRC</td></tr>
  </table>
  </dd>
</dl>
<p>This will use the hardware engine to compute CRC32 on an arbitrary data payload</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="ga37785e75800bd6e8653265c0b5a0a23c" name="ga37785e75800bd6e8653265c0b5a0a23c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37785e75800bd6e8653265c0b5a0a23c">&#9670;&#160;</a></span>am_hal_crc32_accum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_crc32_accum </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ui32StartAddr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ui32SizeBytes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pui32Crc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accumulate CRC32 for a specified payload. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32StartAddr</td><td>- The start address of the payload </td></tr>
    <tr><td class="paramname">ui32SizeBytes</td><td>- The length of payload in bytes </td></tr>
    <tr><td class="paramname">pui32Crc</td><td>- Pointer to accumulated CRC</td></tr>
  </table>
  </dd>
</dl>
<p>This will use the hardware engine to compute CRC32 on an arbitrary data payload</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="gaf6f5587a48292461a07368a720a5f007" name="gaf6f5587a48292461a07368a720a5f007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6f5587a48292461a07368a720a5f007">&#9670;&#160;</a></span>am_hal_crc32_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_crc32_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize CRC32 engine. </p>
<p>This will initialize the hardware engine to compute CRC32 on an arbitrary data payload</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="ga141f57e91438d412d6b1e7332a46bda9" name="ga141f57e91438d412d6b1e7332a46bda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga141f57e91438d412d6b1e7332a46bda9">&#9670;&#160;</a></span>am_hal_security_get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_security_get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structam__hal__security__info__t.html">am_hal_security_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pSecInfo</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Device Security Info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pSecInfo</td><td>- Pointer to structure for returned security info</td></tr>
  </table>
  </dd>
</dl>
<p>This will retrieve the security information for the device</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="ga2c016a6fbd15a81503debffb88f6725d" name="ga2c016a6fbd15a81503debffb88f6725d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c016a6fbd15a81503debffb88f6725d">&#9670;&#160;</a></span>am_hal_security_get_lock_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_security_get_lock_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga6fef9765667e98f136fb7c2abc3411a6">am_hal_security_locktype_t</a></td>          <td class="paramname"><span class="paramname"><em>lockType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *</td>          <td class="paramname"><span class="paramname"><em>pbUnlockStatus</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current status of the specified lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lockType</td><td>- The lock type to be operated upon </td></tr>
    <tr><td class="paramname">pbUnlockStatus</td><td>- Pointer to return variable with lock status</td></tr>
  </table>
  </dd>
</dl>
<p>This will get the lock status for specified lock Note that except for customer lock, other locks are self-locking on status read</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<a id="ga1f0b533775b83f1d6d4ebffd65460b80" name="ga1f0b533775b83f1d6d4ebffd65460b80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1f0b533775b83f1d6d4ebffd65460b80">&#9670;&#160;</a></span>am_hal_security_set_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t am_hal_security_set_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ga6fef9765667e98f136fb7c2abc3411a6">am_hal_security_locktype_t</a></td>          <td class="paramname"><span class="paramname"><em>lockType</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionam__hal__security__128bkey__t.html">am_hal_security_128bkey_t</a> *</td>          <td class="paramname"><span class="paramname"><em>pKey</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the key for specified lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lockType</td><td>- The lock type to be operated upon </td></tr>
    <tr><td class="paramname">pKey</td><td>- Pointer to 128b key value</td></tr>
  </table>
  </dd>
</dl>
<p>This will program the lock registers for the specified lock and key</p>
<dl class="section return"><dt>Returns</dt><dd>Returns AM_HAL_STATUS_SUCCESS on success </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga11d78b3facd2b9b1238b313d9943b5c0" name="ga11d78b3facd2b9b1238b313d9943b5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11d78b3facd2b9b1238b313d9943b5c0">&#9670;&#160;</a></span>g_pFlash0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const volatile uint32_t* g_pFlash0 = (uint32_t*)(<a class="el" href="#ga2efc298cddb19fb90ad6a0cde31d1649">AM_HAL_SBL_ADDRESS</a> + 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad501b2fcdc258c4f21798126697cef2d" name="gad501b2fcdc258c4f21798126697cef2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad501b2fcdc258c4f21798126697cef2d">&#9670;&#160;</a></span>g_pFlash4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const volatile uint32_t* g_pFlash4 = (uint32_t*)(<a class="el" href="#ga2efc298cddb19fb90ad6a0cde31d1649">AM_HAL_SBL_ADDRESS</a> + 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Wed Sep 4 2024 22:59:27 for the AmbiqSuite User Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2024&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
