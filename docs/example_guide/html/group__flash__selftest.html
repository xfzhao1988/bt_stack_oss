<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite Example Guide: Flash Self-Test Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite Example Guide<span id="projectnumber">&#160;SDK 3.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Flash Self-Test Example<div class="ingroups"><a class="el" href="group__examples.html">Examples</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This example runs a series of test patterns on all instances of the device flash. It performs many of the same tests that the hardware BIST (built in self test) uses at production test.</p>
<p>Results are saved in coded form to a defined data word (g_result) which tracks any failure. Further, g_result can be given an absolute address location so that an outside system will know where to find the results.</p>
<p>Results output is also configurable such that the simplified results (pass/fail, done, etc.) can be output to GPIO bits.</p>
<p>The test must be loaded and executed in SRAM. Therefore a J-Link Commander batch file is provided here to assist with that. Alternatively the program can be loaded with a debugger and run from there.</p>
<p>Printing takes place over the ITM at 1M Baud.</p>
<p>Additional Information: Using the J-Link Commander batch file on an Apollo3 Blue EVB:</p><ul>
<li>The Commander script file is one of the compiler-specific *.jlink files.</li>
<li>Requires Segger J-Link v6.60 or later.</li>
<li>As shipped in the SDK, the J-Link Commander scripts should be correctly configured to run the given binary. If the test is modified, the commander script may need an update of the SP and PC. The first two word values in the vector table of your compiled binary determine the required values.</li>
<li>Use the following command line at a DOS prompt. jlink -CommanderScript selftest_commander_xxx.jlink</li>
<li>The flash self test stores results to address 0x10030000. 0xFAE00000 = Pass, the flash tested good. 0xFAE0xxxx = Fail, where xxxx is a failure code.</li>
<li>If USE_TIMER is enabled, the run time of the selftest is stored in two words at 0x10030004 and 0x1003008. The first word is the whole number of seconds, the second is the fractional part to 3 decimals. Therefore the two values show the total run time in the form: ss.fff </li>
</ul>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gadd31e6954a8ef1d40c63409f686135b9" id="r_gadd31e6954a8ef1d40c63409f686135b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a>&#160;&#160;&#160;0x10030000</td></tr>
<tr class="separator:gadd31e6954a8ef1d40c63409f686135b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd31e6954a8ef1d40c63409f686135b9" id="r_gadd31e6954a8ef1d40c63409f686135b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a>&#160;&#160;&#160;0x10030000</td></tr>
<tr class="separator:gadd31e6954a8ef1d40c63409f686135b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad733c449d4055fd00765183476566700" id="r_gad733c449d4055fd00765183476566700"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad733c449d4055fd00765183476566700">PRINT_RESULTS</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:gad733c449d4055fd00765183476566700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98cb66b1f8eaf9e6ee3bcc74f0b74028" id="r_ga98cb66b1f8eaf9e6ee3bcc74f0b74028"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga98cb66b1f8eaf9e6ee3bcc74f0b74028">ENABLE_GPIO_STATUS</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga98cb66b1f8eaf9e6ee3bcc74f0b74028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63962584f36d92d5e840df214a57cf2a" id="r_ga63962584f36d92d5e840df214a57cf2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga63962584f36d92d5e840df214a57cf2a">USE_TIMER</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga63962584f36d92d5e840df214a57cf2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39806e0f0bfa3860d415f7da693242f9" id="r_ga39806e0f0bfa3860d415f7da693242f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga39806e0f0bfa3860d415f7da693242f9">GPIO_PIN_RUN</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ga39806e0f0bfa3860d415f7da693242f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9785a0a0acb3733f354b7b489b7e1106" id="r_ga9785a0a0acb3733f354b7b489b7e1106"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9785a0a0acb3733f354b7b489b7e1106">GPIO_PIN_DONE</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:ga9785a0a0acb3733f354b7b489b7e1106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeb3bf8d5bd18e353278562a28b2f0ab" id="r_gadeb3bf8d5bd18e353278562a28b2f0ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadeb3bf8d5bd18e353278562a28b2f0ab">GPIO_PIN_PASS</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:gadeb3bf8d5bd18e353278562a28b2f0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b9312a62a93ce2776ba8c637156ecb9" id="r_ga2b9312a62a93ce2776ba8c637156ecb9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2b9312a62a93ce2776ba8c637156ecb9">START_PAGE_INST_0</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:ga2b9312a62a93ce2776ba8c637156ecb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f911487b59bd5abb418f2bbdb677db7" id="r_ga5f911487b59bd5abb418f2bbdb677db7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5f911487b59bd5abb418f2bbdb677db7">START_ADDR_INST_0</a>&#160;&#160;&#160;0xC000</td></tr>
<tr class="separator:ga5f911487b59bd5abb418f2bbdb677db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga485a21e55bcc66416a04d2fec83513fa" id="r_ga485a21e55bcc66416a04d2fec83513fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga485a21e55bcc66416a04d2fec83513fa">FLASH_ADDR</a>&#160;&#160;&#160;AM_HAL_FLASH_ADDR</td></tr>
<tr class="separator:ga485a21e55bcc66416a04d2fec83513fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee36797fd59f839e39f61bb74c40dac6" id="r_gaee36797fd59f839e39f61bb74c40dac6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaee36797fd59f839e39f61bb74c40dac6">FLASH_INST_SIZE</a>&#160;&#160;&#160;AM_HAL_FLASH_INSTANCE_SIZE</td></tr>
<tr class="separator:gaee36797fd59f839e39f61bb74c40dac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c491b249b1af751f73ca9b226ddb010" id="r_ga3c491b249b1af751f73ca9b226ddb010"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3c491b249b1af751f73ca9b226ddb010">FLASH_INST_WORDS</a>&#160;&#160;&#160;(AM_HAL_FLASH_INSTANCE_SIZE / 4)</td></tr>
<tr class="separator:ga3c491b249b1af751f73ca9b226ddb010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cc14e2c99ae7f8e5a8e371d03c8532c" id="r_ga4cc14e2c99ae7f8e5a8e371d03c8532c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4cc14e2c99ae7f8e5a8e371d03c8532c">FLASH_PAGE_SIZE</a>&#160;&#160;&#160;AM_HAL_FLASH_PAGE_SIZE</td></tr>
<tr class="separator:ga4cc14e2c99ae7f8e5a8e371d03c8532c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ed79aad6c92b0abc2e214f2c590ab7a" id="r_ga3ed79aad6c92b0abc2e214f2c590ab7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3ed79aad6c92b0abc2e214f2c590ab7a">FLASH_INST_NUM</a>&#160;&#160;&#160;AM_HAL_FLASH_NUM_INSTANCES</td></tr>
<tr class="separator:ga3ed79aad6c92b0abc2e214f2c590ab7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c44dd144791814faf73b6a84eb93435" id="r_ga6c44dd144791814faf73b6a84eb93435"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6c44dd144791814faf73b6a84eb93435">FLASH_ROW_WIDTH_BYTES</a>&#160;&#160;&#160;AM_HAL_FLASH_ROW_WIDTH_BYTES</td></tr>
<tr class="separator:ga6c44dd144791814faf73b6a84eb93435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ac264a69abcf1c8940069bf28003bdb" id="r_ga6ac264a69abcf1c8940069bf28003bdb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>&#160;&#160;&#160;(AM_HAL_FLASH_ROW_WIDTH_BYTES / 4)</td></tr>
<tr class="separator:ga6ac264a69abcf1c8940069bf28003bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49bc746bc8cbcc8e08fae7ec4e593efd" id="r_ga49bc746bc8cbcc8e08fae7ec4e593efd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga49bc746bc8cbcc8e08fae7ec4e593efd">INFO_ROW_WIDTH_WDS</a>&#160;&#160;&#160;<a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a></td></tr>
<tr class="separator:ga49bc746bc8cbcc8e08fae7ec4e593efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffa979ac4bc1233d7a15c3de324e5ebc" id="r_gaffa979ac4bc1233d7a15c3de324e5ebc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaffa979ac4bc1233d7a15c3de324e5ebc">FLASH_INST_ROWS_NUM</a>&#160;&#160;&#160;(<a class="el" href="#ga3c491b249b1af751f73ca9b226ddb010">FLASH_INST_WORDS</a> / <a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>)</td></tr>
<tr class="separator:gaffa979ac4bc1233d7a15c3de324e5ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5455893fd9cd0e8bc119a5927b3a1f7d" id="r_ga5455893fd9cd0e8bc119a5927b3a1f7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5455893fd9cd0e8bc119a5927b3a1f7d">ERRMSG</a>(x)</td></tr>
<tr class="separator:ga5455893fd9cd0e8bc119a5927b3a1f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa221128a29347b0f92f2539597f7341a" id="r_gaa221128a29347b0f92f2539597f7341a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa221128a29347b0f92f2539597f7341a">SELFTEST_TIMERNUM</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaa221128a29347b0f92f2539597f7341a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2809a7a8b25fd0ddc0fd06b6a4f3f128" id="r_ga2809a7a8b25fd0ddc0fd06b6a4f3f128"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2809a7a8b25fd0ddc0fd06b6a4f3f128">selftest_timer_stop</a> (void)</td></tr>
<tr class="separator:ga2809a7a8b25fd0ddc0fd06b6a4f3f128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga0b743d6cbc17e5ee838b984fb5bcfd3c" id="r_ga0b743d6cbc17e5ee838b984fb5bcfd3c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0b743d6cbc17e5ee838b984fb5bcfd3c">g_ui32RowBuffer</a> [<a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>]</td></tr>
<tr class="separator:ga0b743d6cbc17e5ee838b984fb5bcfd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac037f824f064870d655674d27d904f6" id="r_gaac037f824f064870d655674d27d904f6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaac037f824f064870d655674d27d904f6">g_ui32RowBufferNot</a> [<a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>]</td></tr>
<tr class="separator:gaac037f824f064870d655674d27d904f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5abbeb1e873737fbbc9ac481215762ee" id="r_ga5abbeb1e873737fbbc9ac481215762ee"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5abbeb1e873737fbbc9ac481215762ee">g_TestFail</a></td></tr>
<tr class="separator:ga5abbeb1e873737fbbc9ac481215762ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d7b042a0ad05aa7b59cd2c3520c0756" id="r_ga6d7b042a0ad05aa7b59cd2c3520c0756"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6d7b042a0ad05aa7b59cd2c3520c0756">g_TestSA0</a></td></tr>
<tr class="separator:ga6d7b042a0ad05aa7b59cd2c3520c0756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga846a88157076f9f3a9475ee1aa2abfeb" id="r_ga846a88157076f9f3a9475ee1aa2abfeb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga846a88157076f9f3a9475ee1aa2abfeb">g_TestSA1</a></td></tr>
<tr class="separator:ga846a88157076f9f3a9475ee1aa2abfeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa29165a6200f60c3f4c59dde450089fb" id="r_gaa29165a6200f60c3f4c59dde450089fb"><td class="memItemLeft" align="right" valign="top">const am_hal_cachectrl_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa29165a6200f60c3f4c59dde450089fb">flash_selftest_cachectrl_config</a></td></tr>
<tr class="separator:gaa29165a6200f60c3f4c59dde450089fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf8d9779bdcf36205059d4a5c16bcc27" id="r_gabf8d9779bdcf36205059d4a5c16bcc27"><td class="memItemLeft" align="right" valign="top">volatile uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabf8d9779bdcf36205059d4a5c16bcc27">g_pui32Result</a> = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x00)</td></tr>
<tr class="separator:gabf8d9779bdcf36205059d4a5c16bcc27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1174642a3f5133f26ed84568a966182a" id="r_ga1174642a3f5133f26ed84568a966182a"><td class="memItemLeft" align="right" valign="top">volatile uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1174642a3f5133f26ed84568a966182a">pui32_timer_elapsed_sec</a> = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x04)</td></tr>
<tr class="separator:ga1174642a3f5133f26ed84568a966182a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98a42cf7e76c797e750666a008827319" id="r_ga98a42cf7e76c797e750666a008827319"><td class="memItemLeft" align="right" valign="top">volatile uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga98a42cf7e76c797e750666a008827319">pui32_timer_elapsed_frac</a> = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x08)</td></tr>
<tr class="separator:ga98a42cf7e76c797e750666a008827319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e43e24ed29a21c3c6dd37ccd2a0a7b3" id="r_ga5e43e24ed29a21c3c6dd37ccd2a0a7b3"><td class="memItemLeft" align="right" valign="top">volatile uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5e43e24ed29a21c3c6dd37ccd2a0a7b3">pui32_timer_elapsed_ticks</a> = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x0C)</td></tr>
<tr class="separator:ga5e43e24ed29a21c3c6dd37ccd2a0a7b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga98cb66b1f8eaf9e6ee3bcc74f0b74028" name="ga98cb66b1f8eaf9e6ee3bcc74f0b74028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98cb66b1f8eaf9e6ee3bcc74f0b74028">&#9670;&#160;</a></span>ENABLE_GPIO_STATUS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ENABLE_GPIO_STATUS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5455893fd9cd0e8bc119a5927b3a1f7d" name="ga5455893fd9cd0e8bc119a5927b3a1f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5455893fd9cd0e8bc119a5927b3a1f7d">&#9670;&#160;</a></span>ERRMSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ERRMSG</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga485a21e55bcc66416a04d2fec83513fa" name="ga485a21e55bcc66416a04d2fec83513fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga485a21e55bcc66416a04d2fec83513fa">&#9670;&#160;</a></span>FLASH_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ADDR&#160;&#160;&#160;AM_HAL_FLASH_ADDR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3ed79aad6c92b0abc2e214f2c590ab7a" name="ga3ed79aad6c92b0abc2e214f2c590ab7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ed79aad6c92b0abc2e214f2c590ab7a">&#9670;&#160;</a></span>FLASH_INST_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INST_NUM&#160;&#160;&#160;AM_HAL_FLASH_NUM_INSTANCES</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaffa979ac4bc1233d7a15c3de324e5ebc" name="gaffa979ac4bc1233d7a15c3de324e5ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaffa979ac4bc1233d7a15c3de324e5ebc">&#9670;&#160;</a></span>FLASH_INST_ROWS_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INST_ROWS_NUM&#160;&#160;&#160;(<a class="el" href="#ga3c491b249b1af751f73ca9b226ddb010">FLASH_INST_WORDS</a> / <a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaee36797fd59f839e39f61bb74c40dac6" name="gaee36797fd59f839e39f61bb74c40dac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee36797fd59f839e39f61bb74c40dac6">&#9670;&#160;</a></span>FLASH_INST_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INST_SIZE&#160;&#160;&#160;AM_HAL_FLASH_INSTANCE_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3c491b249b1af751f73ca9b226ddb010" name="ga3c491b249b1af751f73ca9b226ddb010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c491b249b1af751f73ca9b226ddb010">&#9670;&#160;</a></span>FLASH_INST_WORDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_INST_WORDS&#160;&#160;&#160;(AM_HAL_FLASH_INSTANCE_SIZE / 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga4cc14e2c99ae7f8e5a8e371d03c8532c" name="ga4cc14e2c99ae7f8e5a8e371d03c8532c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cc14e2c99ae7f8e5a8e371d03c8532c">&#9670;&#160;</a></span>FLASH_PAGE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_PAGE_SIZE&#160;&#160;&#160;AM_HAL_FLASH_PAGE_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga6c44dd144791814faf73b6a84eb93435" name="ga6c44dd144791814faf73b6a84eb93435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6c44dd144791814faf73b6a84eb93435">&#9670;&#160;</a></span>FLASH_ROW_WIDTH_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ROW_WIDTH_BYTES&#160;&#160;&#160;AM_HAL_FLASH_ROW_WIDTH_BYTES</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga6ac264a69abcf1c8940069bf28003bdb" name="ga6ac264a69abcf1c8940069bf28003bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ac264a69abcf1c8940069bf28003bdb">&#9670;&#160;</a></span>FLASH_ROW_WIDTH_WDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FLASH_ROW_WIDTH_WDS&#160;&#160;&#160;(AM_HAL_FLASH_ROW_WIDTH_BYTES / 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9785a0a0acb3733f354b7b489b7e1106" name="ga9785a0a0acb3733f354b7b489b7e1106"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9785a0a0acb3733f354b7b489b7e1106">&#9670;&#160;</a></span>GPIO_PIN_DONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPIO_PIN_DONE&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gadeb3bf8d5bd18e353278562a28b2f0ab" name="gadeb3bf8d5bd18e353278562a28b2f0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadeb3bf8d5bd18e353278562a28b2f0ab">&#9670;&#160;</a></span>GPIO_PIN_PASS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPIO_PIN_PASS&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga39806e0f0bfa3860d415f7da693242f9" name="ga39806e0f0bfa3860d415f7da693242f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39806e0f0bfa3860d415f7da693242f9">&#9670;&#160;</a></span>GPIO_PIN_RUN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPIO_PIN_RUN&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga49bc746bc8cbcc8e08fae7ec4e593efd" name="ga49bc746bc8cbcc8e08fae7ec4e593efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49bc746bc8cbcc8e08fae7ec4e593efd">&#9670;&#160;</a></span>INFO_ROW_WIDTH_WDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INFO_ROW_WIDTH_WDS&#160;&#160;&#160;<a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad733c449d4055fd00765183476566700" name="gad733c449d4055fd00765183476566700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad733c449d4055fd00765183476566700">&#9670;&#160;</a></span>PRINT_RESULTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRINT_RESULTS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gadd31e6954a8ef1d40c63409f686135b9" name="gadd31e6954a8ef1d40c63409f686135b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd31e6954a8ef1d40c63409f686135b9">&#9670;&#160;</a></span>RESULT_ADDR <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESULT_ADDR&#160;&#160;&#160;0x10030000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gadd31e6954a8ef1d40c63409f686135b9" name="gadd31e6954a8ef1d40c63409f686135b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd31e6954a8ef1d40c63409f686135b9">&#9670;&#160;</a></span>RESULT_ADDR <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESULT_ADDR&#160;&#160;&#160;0x10030000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaa221128a29347b0f92f2539597f7341a" name="gaa221128a29347b0f92f2539597f7341a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa221128a29347b0f92f2539597f7341a">&#9670;&#160;</a></span>SELFTEST_TIMERNUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SELFTEST_TIMERNUM&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5f911487b59bd5abb418f2bbdb677db7" name="ga5f911487b59bd5abb418f2bbdb677db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5f911487b59bd5abb418f2bbdb677db7">&#9670;&#160;</a></span>START_ADDR_INST_0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_ADDR_INST_0&#160;&#160;&#160;0xC000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2b9312a62a93ce2776ba8c637156ecb9" name="ga2b9312a62a93ce2776ba8c637156ecb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b9312a62a93ce2776ba8c637156ecb9">&#9670;&#160;</a></span>START_PAGE_INST_0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_PAGE_INST_0&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga63962584f36d92d5e840df214a57cf2a" name="ga63962584f36d92d5e840df214a57cf2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63962584f36d92d5e840df214a57cf2a">&#9670;&#160;</a></span>USE_TIMER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USE_TIMER&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2809a7a8b25fd0ddc0fd06b6a4f3f128" name="ga2809a7a8b25fd0ddc0fd06b6a4f3f128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2809a7a8b25fd0ddc0fd06b6a4f3f128">&#9670;&#160;</a></span>selftest_timer_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void selftest_timer_stop </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gaa29165a6200f60c3f4c59dde450089fb" name="gaa29165a6200f60c3f4c59dde450089fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa29165a6200f60c3f4c59dde450089fb">&#9670;&#160;</a></span>flash_selftest_cachectrl_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const am_hal_cachectrl_config_t flash_selftest_cachectrl_config</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    .eDescript                  = AM_HAL_CACHECTRL_DESCR_2WAY_128B_512E,</div>
<div class="line">    .eMode                      = AM_HAL_CACHECTRL_CONFIG_MODE_INSTR_DATA,</div>
<div class="line">    .bLRU                       = 0,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gabf8d9779bdcf36205059d4a5c16bcc27" name="gabf8d9779bdcf36205059d4a5c16bcc27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabf8d9779bdcf36205059d4a5c16bcc27">&#9670;&#160;</a></span>g_pui32Result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t* g_pui32Result = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x00)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5abbeb1e873737fbbc9ac481215762ee" name="ga5abbeb1e873737fbbc9ac481215762ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5abbeb1e873737fbbc9ac481215762ee">&#9670;&#160;</a></span>g_TestFail</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_TestFail</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga6d7b042a0ad05aa7b59cd2c3520c0756" name="ga6d7b042a0ad05aa7b59cd2c3520c0756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d7b042a0ad05aa7b59cd2c3520c0756">&#9670;&#160;</a></span>g_TestSA0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_TestSA0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga846a88157076f9f3a9475ee1aa2abfeb" name="ga846a88157076f9f3a9475ee1aa2abfeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga846a88157076f9f3a9475ee1aa2abfeb">&#9670;&#160;</a></span>g_TestSA1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_TestSA1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0b743d6cbc17e5ee838b984fb5bcfd3c" name="ga0b743d6cbc17e5ee838b984fb5bcfd3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b743d6cbc17e5ee838b984fb5bcfd3c">&#9670;&#160;</a></span>g_ui32RowBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_ui32RowBuffer[<a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaac037f824f064870d655674d27d904f6" name="gaac037f824f064870d655674d27d904f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac037f824f064870d655674d27d904f6">&#9670;&#160;</a></span>g_ui32RowBufferNot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_ui32RowBufferNot[<a class="el" href="#ga6ac264a69abcf1c8940069bf28003bdb">FLASH_ROW_WIDTH_WDS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga98a42cf7e76c797e750666a008827319" name="ga98a42cf7e76c797e750666a008827319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98a42cf7e76c797e750666a008827319">&#9670;&#160;</a></span>pui32_timer_elapsed_frac</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t* pui32_timer_elapsed_frac = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x08)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga1174642a3f5133f26ed84568a966182a" name="ga1174642a3f5133f26ed84568a966182a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1174642a3f5133f26ed84568a966182a">&#9670;&#160;</a></span>pui32_timer_elapsed_sec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t* pui32_timer_elapsed_sec = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x04)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5e43e24ed29a21c3c6dd37ccd2a0a7b3" name="ga5e43e24ed29a21c3c6dd37ccd2a0a7b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e43e24ed29a21c3c6dd37ccd2a0a7b3">&#9670;&#160;</a></span>pui32_timer_elapsed_ticks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t* pui32_timer_elapsed_ticks = (uint32_t*)(<a class="el" href="#gadd31e6954a8ef1d40c63409f686135b9">RESULT_ADDR</a> + 0x0C)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Wed Sep 4 2024 23:05:14 for the AmbiqSuite Example Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2024&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
