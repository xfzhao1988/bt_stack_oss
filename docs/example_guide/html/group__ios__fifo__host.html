<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite Example Guide: IOS FIFO Host Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite Example Guide<span id="projectnumber">&#160;SDK 3.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">IOS FIFO Host Example<div class="ingroups"><a class="el" href="group__examples.html">Examples</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This host component runs on one EVB and is used in conjunction with the companion target example, ios_fifo, which runs on a second EVB.</p>
<p>The host example uses the ITM SWO to let the user know progress and status of the demonstration. The SWO is configured at 1M baud. The ios_fifo example has no print output.</p>
<p>This example implements the host part of a protocol for data exchange with an Apollo IOS. The host sends one byte commands on SPI/I2C by writing to offset 0x80.</p>
<p>The command is issued by the host to Start/Stop Data accumulation, and also to acknowledge read-complete of a block of data.</p>
<p>On the IOS side, once it is asked to start accumulating data (using START command), two CTimer based events emulate sensors sending data to IOS. When IOS has some data for host, it implements a state machine, synchronizing with the host.</p>
<p>The IOS interrupts the host to indicate data availability. The host then reads the available data (as indicated by FIFOCTR) by READing using IOS FIFO (at address 0x7F). The IOS keeps accumulating any new data coming in the background.</p>
<p>Host sends an acknowledgement to IOS once it has finished reading a block of data initiated by IOS (partially or complete). IOS interrupts the host again if and when it has more data for the host to read, and the cycle repeats - till host indicates that it is no longer interested in receiving data by sending STOP command.</p>
<p>Additional Information: In order to run this example, a target device (e.g. a second EVB) must be set up to run the companion example, ios_fifo. The two boards can be connected using fly leads between the two boards as follows.</p>
<pre class="fragment">//! Pin connections for the I/O Controller (IOM) board to the I/O Target (IOS) board.
//! SPI:
//!     HOST (ios_fifo_host)                     TARGET (ios_fifo)
//!     --------------------                     ----------------
//!     GPIO[10] GPIO Interrupt (target to host) GPIO[4]  GPIO interrupt
//!     GPIO[5]  IOM0 SPI SCK                    GPIO[0]  IOS SPI SCK
//!     GPIO[7]  IOM0 SPI MOSI                   GPIO[1]  IOS SPI MOSI
//!     GPIO[6]  IOM0 SPI MISO                   GPIO[2]  IOS SPI MISO
//!     GPIO[11] IOM0 SPI nCE                    GPIO[3]  IOS SPI nCE
//!     GND                                      GND
//!
//! I2C:
//!     HOST (ios_fifo_host)                     TARGET (ios_fifo)
//!     --------------------                     ----------------
//!     GPIO[10] GPIO Interrupt (target to host) GPIO[4]  GPIO interrupt
//!     GPIO[5]  IOM0 I2C SCL                    GPIO[0]  IOS I2C SCL
//!     GPIO[6]  IOM0 I2C SDA                    GPIO[1]  IOS I2C SDA
//!     GND                                      GND
//! </pre> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga4f18beb0fce4706e47fd2d37ee55e383" id="r_ga4f18beb0fce4706e47fd2d37ee55e383"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4f18beb0fce4706e47fd2d37ee55e383">IOM_MODULE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga4f18beb0fce4706e47fd2d37ee55e383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1acd02cc5bc9a5945addaf6e4f65d39a" id="r_ga1acd02cc5bc9a5945addaf6e4f65d39a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1acd02cc5bc9a5945addaf6e4f65d39a">USE_SPI</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga1acd02cc5bc9a5945addaf6e4f65d39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2e78122c7a8b3a9480ef8f898cb01c8e" id="r_ga2e78122c7a8b3a9480ef8f898cb01c8e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2e78122c7a8b3a9480ef8f898cb01c8e">I2C_ADDR</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="separator:ga2e78122c7a8b3a9480ef8f898cb01c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0592dba56693fad79136250c11e5a7fe" id="r_ga0592dba56693fad79136250c11e5a7fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0592dba56693fad79136250c11e5a7fe">MAX_SIZE</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:ga0592dba56693fad79136250c11e5a7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c072d29232d4340f776dc0bd4720ba4" id="r_ga0c072d29232d4340f776dc0bd4720ba4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0c072d29232d4340f776dc0bd4720ba4">XOR_BYTE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga0c072d29232d4340f776dc0bd4720ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94e91ee2c0e1a94ad5a362b7a76bce4f" id="r_ga94e91ee2c0e1a94ad5a362b7a76bce4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga94e91ee2c0e1a94ad5a362b7a76bce4f">EMPTY_BYTE</a>&#160;&#160;&#160;0xEE</td></tr>
<tr class="separator:ga94e91ee2c0e1a94ad5a362b7a76bce4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bff86557c6654ff01c62b25cc15498a" id="r_ga3bff86557c6654ff01c62b25cc15498a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3bff86557c6654ff01c62b25cc15498a">IOSOFFSET_WRITE_INTEN</a>&#160;&#160;&#160;0xF8</td></tr>
<tr class="separator:ga3bff86557c6654ff01c62b25cc15498a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6259ff748a8f8e6f2e7407ff6a16e7a" id="r_gaf6259ff748a8f8e6f2e7407ff6a16e7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf6259ff748a8f8e6f2e7407ff6a16e7a">IOSOFFSET_WRITE_INTCLR</a>&#160;&#160;&#160;0xFA</td></tr>
<tr class="separator:gaf6259ff748a8f8e6f2e7407ff6a16e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa71c1064761c0ff7f211e441134eea6b" id="r_gaa71c1064761c0ff7f211e441134eea6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa71c1064761c0ff7f211e441134eea6b">IOSOFFSET_WRITE_CMD</a>&#160;&#160;&#160;0x80</td></tr>
<tr class="separator:gaa71c1064761c0ff7f211e441134eea6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9768c1f53a3d2202d6a15474f1d08118" id="r_ga9768c1f53a3d2202d6a15474f1d08118"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9768c1f53a3d2202d6a15474f1d08118">IOSOFFSET_READ_INTSTAT</a>&#160;&#160;&#160;0x79</td></tr>
<tr class="separator:ga9768c1f53a3d2202d6a15474f1d08118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafbd8247dc5e76843360144e5f39623a9" id="r_gafbd8247dc5e76843360144e5f39623a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafbd8247dc5e76843360144e5f39623a9">IOSOFFSET_READ_FIFO</a>&#160;&#160;&#160;0x7F</td></tr>
<tr class="separator:gafbd8247dc5e76843360144e5f39623a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee5091d9ae166e7533a2c2007aef3d00" id="r_gaee5091d9ae166e7533a2c2007aef3d00"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaee5091d9ae166e7533a2c2007aef3d00">IOSOFFSET_READ_FIFOCTR</a>&#160;&#160;&#160;0x7C</td></tr>
<tr class="separator:gaee5091d9ae166e7533a2c2007aef3d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d50a9f3b35b172d979f000c6133db28" id="r_ga7d50a9f3b35b172d979f000c6133db28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7d50a9f3b35b172d979f000c6133db28">AM_IOSTEST_IOSTOHOST_DATAAVAIL_INTMASK</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga7d50a9f3b35b172d979f000c6133db28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a9a223a186a3f047810b1a11cc5441e" id="r_ga2a9a223a186a3f047810b1a11cc5441e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2a9a223a186a3f047810b1a11cc5441e">HANDSHAKE_PIN</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:ga2a9a223a186a3f047810b1a11cc5441e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6b4de06524c8b8500298d1d635cfd40" id="r_gad6b4de06524c8b8500298d1d635cfd40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad6b4de06524c8b8500298d1d635cfd40">AM_TEST_RCV_BUF_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:gad6b4de06524c8b8500298d1d635cfd40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81f25d9ad001edc06df119ee4874c8b8" id="r_ga81f25d9ad001edc06df119ee4874c8b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga81f25d9ad001edc06df119ee4874c8b8">MAX_SPI_SIZE</a>&#160;&#160;&#160;1023</td></tr>
<tr class="separator:ga81f25d9ad001edc06df119ee4874c8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac17e1d7ce4dbc5291937a3bee6e0c96a" id="r_gac17e1d7ce4dbc5291937a3bee6e0c96a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac17e1d7ce4dbc5291937a3bee6e0c96a">MAX_I2C_SIZE</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:gac17e1d7ce4dbc5291937a3bee6e0c96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga228564201fc99d952d4a54c1da799b0b" id="r_ga228564201fc99d952d4a54c1da799b0b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga228564201fc99d952d4a54c1da799b0b">AM_IOSTEST_CMD_E</a> { <br />
&#160;&#160;<a class="el" href="#gga228564201fc99d952d4a54c1da799b0ba3a31f81f88ebe32dee6b12d4075c4994">AM_IOSTEST_CMD_START_DATA</a> = 0
, <br />
&#160;&#160;<a class="el" href="#gga228564201fc99d952d4a54c1da799b0baa89ab077264485116415b2ca6697ba1b">AM_IOSTEST_CMD_STOP_DATA</a> = 1
, <br />
&#160;&#160;<a class="el" href="#gga228564201fc99d952d4a54c1da799b0bae1f13568b65570fcd59ea968ed0a5e69">AM_IOSTEST_CMD_ACK_DATA</a> = 2
<br />
 }</td></tr>
<tr class="separator:ga228564201fc99d952d4a54c1da799b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8bfddc39e6c95fc5b6a27d753ca8023a" id="r_ga8bfddc39e6c95fc5b6a27d753ca8023a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8bfddc39e6c95fc5b6a27d753ca8023a">clear_rx_buf</a> (void)</td></tr>
<tr class="separator:ga8bfddc39e6c95fc5b6a27d753ca8023a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8db66fef6844b8d81920fc4579086000" id="r_ga8db66fef6844b8d81920fc4579086000"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8db66fef6844b8d81920fc4579086000">validate_rx_buf</a> (uint32_t rxSize)</td></tr>
<tr class="separator:ga8db66fef6844b8d81920fc4579086000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9b27187795918cf4114b7432f20e4b0" id="r_gad9b27187795918cf4114b7432f20e4b0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad9b27187795918cf4114b7432f20e4b0">am_gpio_isr</a> (void)</td></tr>
<tr class="separator:gad9b27187795918cf4114b7432f20e4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99ac8ff5b1dc05826b4477b586eafc4c" id="r_ga99ac8ff5b1dc05826b4477b586eafc4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga99ac8ff5b1dc05826b4477b586eafc4c">iom_target_read</a> (bool bSpi, uint32_t offset, uint32_t *pBuf, uint32_t size)</td></tr>
<tr class="separator:ga99ac8ff5b1dc05826b4477b586eafc4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0469d116ab5efff5aa1b2c23bc24e2bd" id="r_ga0469d116ab5efff5aa1b2c23bc24e2bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0469d116ab5efff5aa1b2c23bc24e2bd">iom_target_write</a> (bool bSpi, uint32_t offset, uint32_t *pBuf, uint32_t size)</td></tr>
<tr class="separator:ga0469d116ab5efff5aa1b2c23bc24e2bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf98958b5b27e6032f66a2e81b6449109" id="r_gaf98958b5b27e6032f66a2e81b6449109"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf98958b5b27e6032f66a2e81b6449109">update_progress</a> (uint32_t ui32NumPackets)</td></tr>
<tr class="separator:gaf98958b5b27e6032f66a2e81b6449109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga8968aad7d25777abda5b5ba1964516de" id="r_ga8968aad7d25777abda5b5ba1964516de"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga8968aad7d25777abda5b5ba1964516de">g_pui8RcvBuf</a> [<a class="el" href="#gad6b4de06524c8b8500298d1d635cfd40">AM_TEST_RCV_BUF_SIZE</a>]</td></tr>
<tr class="separator:ga8968aad7d25777abda5b5ba1964516de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf49278b66a54bea9634dab79a1af2cb" id="r_gaaf49278b66a54bea9634dab79a1af2cb"><td class="memItemLeft" align="right" valign="top">volatile uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaaf49278b66a54bea9634dab79a1af2cb">g_startIdx</a> = 0</td></tr>
<tr class="separator:gaaf49278b66a54bea9634dab79a1af2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49eabd8baee8527a4ca82aaf24a59fe8" id="r_ga49eabd8baee8527a4ca82aaf24a59fe8"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga49eabd8baee8527a4ca82aaf24a59fe8">bIosInt</a> = false</td></tr>
<tr class="separator:ga49eabd8baee8527a4ca82aaf24a59fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab69b4ea2bee14ab0603f4a9dd17575c" id="r_gaab69b4ea2bee14ab0603f4a9dd17575c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaab69b4ea2bee14ab0603f4a9dd17575c">g_IOMHandle</a></td></tr>
<tr class="separator:gaab69b4ea2bee14ab0603f4a9dd17575c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ad0803f284b08a98510dc2a2e093382" id="r_ga2ad0803f284b08a98510dc2a2e093382"><td class="memItemLeft" align="right" valign="top">const am_hal_gpio_pincfg_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2ad0803f284b08a98510dc2a2e093382">g_AM_BSP_GPIO_HANDSHAKE</a></td></tr>
<tr class="separator:ga2ad0803f284b08a98510dc2a2e093382"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb7ce9ca283cdf0b90ccb7ffdab24324" id="r_gabb7ce9ca283cdf0b90ccb7ffdab24324"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gabb7ce9ca283cdf0b90ccb7ffdab24324">g_ui32LastUpdate</a> = 0</td></tr>
<tr class="separator:gabb7ce9ca283cdf0b90ccb7ffdab24324"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga7d50a9f3b35b172d979f000c6133db28" name="ga7d50a9f3b35b172d979f000c6133db28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7d50a9f3b35b172d979f000c6133db28">&#9670;&#160;</a></span>AM_IOSTEST_IOSTOHOST_DATAAVAIL_INTMASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_IOSTEST_IOSTOHOST_DATAAVAIL_INTMASK&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gad6b4de06524c8b8500298d1d635cfd40" name="gad6b4de06524c8b8500298d1d635cfd40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad6b4de06524c8b8500298d1d635cfd40">&#9670;&#160;</a></span>AM_TEST_RCV_BUF_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AM_TEST_RCV_BUF_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga94e91ee2c0e1a94ad5a362b7a76bce4f" name="ga94e91ee2c0e1a94ad5a362b7a76bce4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94e91ee2c0e1a94ad5a362b7a76bce4f">&#9670;&#160;</a></span>EMPTY_BYTE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMPTY_BYTE&#160;&#160;&#160;0xEE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2a9a223a186a3f047810b1a11cc5441e" name="ga2a9a223a186a3f047810b1a11cc5441e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2a9a223a186a3f047810b1a11cc5441e">&#9670;&#160;</a></span>HANDSHAKE_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HANDSHAKE_PIN&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2e78122c7a8b3a9480ef8f898cb01c8e" name="ga2e78122c7a8b3a9480ef8f898cb01c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2e78122c7a8b3a9480ef8f898cb01c8e">&#9670;&#160;</a></span>I2C_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_ADDR&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga4f18beb0fce4706e47fd2d37ee55e383" name="ga4f18beb0fce4706e47fd2d37ee55e383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f18beb0fce4706e47fd2d37ee55e383">&#9670;&#160;</a></span>IOM_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOM_MODULE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gafbd8247dc5e76843360144e5f39623a9" name="gafbd8247dc5e76843360144e5f39623a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafbd8247dc5e76843360144e5f39623a9">&#9670;&#160;</a></span>IOSOFFSET_READ_FIFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_READ_FIFO&#160;&#160;&#160;0x7F</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaee5091d9ae166e7533a2c2007aef3d00" name="gaee5091d9ae166e7533a2c2007aef3d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee5091d9ae166e7533a2c2007aef3d00">&#9670;&#160;</a></span>IOSOFFSET_READ_FIFOCTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_READ_FIFOCTR&#160;&#160;&#160;0x7C</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9768c1f53a3d2202d6a15474f1d08118" name="ga9768c1f53a3d2202d6a15474f1d08118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9768c1f53a3d2202d6a15474f1d08118">&#9670;&#160;</a></span>IOSOFFSET_READ_INTSTAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_READ_INTSTAT&#160;&#160;&#160;0x79</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaa71c1064761c0ff7f211e441134eea6b" name="gaa71c1064761c0ff7f211e441134eea6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa71c1064761c0ff7f211e441134eea6b">&#9670;&#160;</a></span>IOSOFFSET_WRITE_CMD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_WRITE_CMD&#160;&#160;&#160;0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf6259ff748a8f8e6f2e7407ff6a16e7a" name="gaf6259ff748a8f8e6f2e7407ff6a16e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6259ff748a8f8e6f2e7407ff6a16e7a">&#9670;&#160;</a></span>IOSOFFSET_WRITE_INTCLR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_WRITE_INTCLR&#160;&#160;&#160;0xFA</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3bff86557c6654ff01c62b25cc15498a" name="ga3bff86557c6654ff01c62b25cc15498a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bff86557c6654ff01c62b25cc15498a">&#9670;&#160;</a></span>IOSOFFSET_WRITE_INTEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IOSOFFSET_WRITE_INTEN&#160;&#160;&#160;0xF8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac17e1d7ce4dbc5291937a3bee6e0c96a" name="gac17e1d7ce4dbc5291937a3bee6e0c96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac17e1d7ce4dbc5291937a3bee6e0c96a">&#9670;&#160;</a></span>MAX_I2C_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_I2C_SIZE&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0592dba56693fad79136250c11e5a7fe" name="ga0592dba56693fad79136250c11e5a7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0592dba56693fad79136250c11e5a7fe">&#9670;&#160;</a></span>MAX_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SIZE&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga81f25d9ad001edc06df119ee4874c8b8" name="ga81f25d9ad001edc06df119ee4874c8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81f25d9ad001edc06df119ee4874c8b8">&#9670;&#160;</a></span>MAX_SPI_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SPI_SIZE&#160;&#160;&#160;1023</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga1acd02cc5bc9a5945addaf6e4f65d39a" name="ga1acd02cc5bc9a5945addaf6e4f65d39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1acd02cc5bc9a5945addaf6e4f65d39a">&#9670;&#160;</a></span>USE_SPI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USE_SPI&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0c072d29232d4340f776dc0bd4720ba4" name="ga0c072d29232d4340f776dc0bd4720ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0c072d29232d4340f776dc0bd4720ba4">&#9670;&#160;</a></span>XOR_BYTE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XOR_BYTE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga228564201fc99d952d4a54c1da799b0b" name="ga228564201fc99d952d4a54c1da799b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga228564201fc99d952d4a54c1da799b0b">&#9670;&#160;</a></span>AM_IOSTEST_CMD_E</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ios__fifo.html#ga228564201fc99d952d4a54c1da799b0b">AM_IOSTEST_CMD_E</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga228564201fc99d952d4a54c1da799b0ba3a31f81f88ebe32dee6b12d4075c4994" name="gga228564201fc99d952d4a54c1da799b0ba3a31f81f88ebe32dee6b12d4075c4994"></a>AM_IOSTEST_CMD_START_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga228564201fc99d952d4a54c1da799b0baa89ab077264485116415b2ca6697ba1b" name="gga228564201fc99d952d4a54c1da799b0baa89ab077264485116415b2ca6697ba1b"></a>AM_IOSTEST_CMD_STOP_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga228564201fc99d952d4a54c1da799b0bae1f13568b65570fcd59ea968ed0a5e69" name="gga228564201fc99d952d4a54c1da799b0bae1f13568b65570fcd59ea968ed0a5e69"></a>AM_IOSTEST_CMD_ACK_DATA&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad9b27187795918cf4114b7432f20e4b0" name="gad9b27187795918cf4114b7432f20e4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9b27187795918cf4114b7432f20e4b0">&#9670;&#160;</a></span>am_gpio_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void am_gpio_isr </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8bfddc39e6c95fc5b6a27d753ca8023a" name="ga8bfddc39e6c95fc5b6a27d753ca8023a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8bfddc39e6c95fc5b6a27d753ca8023a">&#9670;&#160;</a></span>clear_rx_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void clear_rx_buf </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga99ac8ff5b1dc05826b4477b586eafc4c" name="ga99ac8ff5b1dc05826b4477b586eafc4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga99ac8ff5b1dc05826b4477b586eafc4c">&#9670;&#160;</a></span>iom_target_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iom_target_read </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bSpi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0469d116ab5efff5aa1b2c23bc24e2bd" name="ga0469d116ab5efff5aa1b2c23bc24e2bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0469d116ab5efff5aa1b2c23bc24e2bd">&#9670;&#160;</a></span>iom_target_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iom_target_write </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>bSpi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pBuf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf98958b5b27e6032f66a2e81b6449109" name="gaf98958b5b27e6032f66a2e81b6449109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf98958b5b27e6032f66a2e81b6449109">&#9670;&#160;</a></span>update_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_progress </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>ui32NumPackets</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8db66fef6844b8d81920fc4579086000" name="ga8db66fef6844b8d81920fc4579086000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8db66fef6844b8d81920fc4579086000">&#9670;&#160;</a></span>validate_rx_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t validate_rx_buf </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>rxSize</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga49eabd8baee8527a4ca82aaf24a59fe8" name="ga49eabd8baee8527a4ca82aaf24a59fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49eabd8baee8527a4ca82aaf24a59fe8">&#9670;&#160;</a></span>bIosInt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool bIosInt = false</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga2ad0803f284b08a98510dc2a2e093382" name="ga2ad0803f284b08a98510dc2a2e093382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ad0803f284b08a98510dc2a2e093382">&#9670;&#160;</a></span>g_AM_BSP_GPIO_HANDSHAKE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const am_hal_gpio_pincfg_t g_AM_BSP_GPIO_HANDSHAKE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    .uFuncSel       = AM_HAL_PIN_10_GPIO,</div>
<div class="line">    .eDriveStrength = AM_HAL_GPIO_PIN_DRIVESTRENGTH_2MA,</div>
<div class="line">    .eIntDir        = AM_HAL_GPIO_PIN_INTDIR_LO2HI,</div>
<div class="line">    .eGPInput       = AM_HAL_GPIO_PIN_INPUT_ENABLE,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaab69b4ea2bee14ab0603f4a9dd17575c" name="gaab69b4ea2bee14ab0603f4a9dd17575c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab69b4ea2bee14ab0603f4a9dd17575c">&#9670;&#160;</a></span>g_IOMHandle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* g_IOMHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8968aad7d25777abda5b5ba1964516de" name="ga8968aad7d25777abda5b5ba1964516de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8968aad7d25777abda5b5ba1964516de">&#9670;&#160;</a></span>g_pui8RcvBuf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g_pui8RcvBuf[<a class="el" href="#gad6b4de06524c8b8500298d1d635cfd40">AM_TEST_RCV_BUF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaaf49278b66a54bea9634dab79a1af2cb" name="gaaf49278b66a54bea9634dab79a1af2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf49278b66a54bea9634dab79a1af2cb">&#9670;&#160;</a></span>g_startIdx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t g_startIdx = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gabb7ce9ca283cdf0b90ccb7ffdab24324" name="gabb7ce9ca283cdf0b90ccb7ffdab24324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb7ce9ca283cdf0b90ccb7ffdab24324">&#9670;&#160;</a></span>g_ui32LastUpdate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_ui32LastUpdate = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Wed Sep 4 2024 23:05:15 for the AmbiqSuite Example Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2024&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
